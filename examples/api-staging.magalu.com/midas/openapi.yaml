openapi: 3.0.1
info:
  title: Midas API - Gateway de Pagamentos
  description: "As rotas descritas neste documento devem ser utilizadas para interagir com o gateway de pagamentos \
                um dos serviços que compoem a plataforma financeira Midas \n\n
                Com as funcionalidades aqui expostas é possivel: \n\n
                - Criar uma solicitação de pagamento de uma venda feita com cartão de crédito (modalidade de auto captura ou captura manual)\n
                - Realizar a captura do pagamento caso seja escolhida a modalidade de captura manual. É possivel capturar o valor completo previamente autorizado (captura total) ou um valor menor do que aquele informado anteriormente (captura parcial)\n
                - Realizar a consulta do status em que se encontra o pagamento\n
                - Solicitar o cancelamento do processamento do pagamento (antes de realizar a captura)\n
                - Solicitar o estorno de um pagamento (completo ou de parte do valor do pagamento original)\n

                Antes de utilizar as funcionalidades descritas acima é necessário cadastrar alguns dados:\n\n
                - **Organização**: Empresa que deseja consumir os serviços do gateway de pagamentos \n
                - **Canal**: Meio pelo qual a organização optou por transacionar seus pagamentos, nesse caso, é uma segmentação customizada pela própria empresa para facilitar a identificação e controle de seus recebíveis.\n
                - **Recebedor**: Entidade que sera a beneficiária do pagamento processado, em outras palavras, aquele que sera o destinatario dos recursos financeiros transacionados.\n\n"
  contact:
    name: Tribo Magalu Pagamentos
    url: https://github.com/luizalabs
    email: fabiana.colmanetti@luizalabs.com
  version: 0.0.1
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
externalDocs:
  description: Descubra mais sobre o Midas
  url: https://sesamo-api.magazineluiza.com.br/api/docs
servers:
  - url: https://sesamo-api.magazineluiza.com.br/api/
  
tags:
  - name: Order
    description: "Rotas relacionadas a manipulação do processamento de pagamento de uma venda com cartão de crédito"
  - name: Organization
    description: "Rotas relacionadas a criação e consulta dos dados da organização e canais que consumirão os serviços do Gateway de Pagamentos"
  - name: Recipient
    description: "Rotas relacionadas a criação e consulta dos dados de recebedores associados as organizações"
paths:
  v2/order:
    post:
      summary: Criação de uma solicitação para pagamento de venda com cartão de crédito
      operationId: v2CreateOrder
      description: "Rota responsável pela criação de uma nova operação para pagamento de venda com cartão de crédito. \n\n \
                    **Atenção**: caso [capture] for definido como \"true\" a solicitação será criada e capturada imediatamente, mas se o campo for definido como \"false\" \n \
                    é de responsabilidade do usuário utilizar as rotas de captura total ou parcial para continuar o processamento do pagamento"
      parameters:
        - in: header
          name: x-tenant-internal-id
          description: Public-Id da organização.
          required: true
          schema:
            $ref: '#/components/schemas/x-tenant-internal-id'
        - in: header
          name: x-source-id
          description: API-KEY de acesso do canal
          required: true
          schema:
            $ref: '#/components/schemas/x-source-id'      
      tags:
        - Order
      requestBody:
        description: Dados necessário para criação de um pagamento de venda com cartão de crédito.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PaymentOrderRequest'
      responses:
        "201":
          description: Success response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderMinimal'
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestError'
        "401": 
          description: Unauthorized Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnauthorizedError'        
        "409":
          description: Conflict
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderMinimal'
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidateError'
        "424":
          description: Failed Dependency
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailedDependencyError'
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
  v2/order/capture/{soid}:
    post:
      summary: Realiza captura total do pagamento da venda junto ao adquirente de cartão de crédito
      description: "Rota responsável pela captura do valor completo de solicitações de pagamento realizadas na modalidade captura manual\n\n \
                    **Atenção**: O pagamento deve estar com status [approved] para que seja possivel realizar a captura"
      operationId: v2CreateOrderCaptureSoid
      tags:
        - Order
      parameters:
        - in: header
          name: x-tenant-internal-id
          description: Public-Id da organização.
          required: true
          schema:
            $ref: '#/components/schemas/x-tenant-internal-id'
        - in: header
          name: x-source-id
          description: API-KEY de acesso do canal
          required: true
          schema:
            $ref: '#/components/schemas/x-source-id'
        - in: path
          name: soid
          required: true
          description: "Identificador de solicitação de pagamento, chave única que identifica o pagamento internamento no Gateway" 
          schema:
            $ref: '#/components/schemas/OrderCaptureSoidRequest'
      responses:
        "200":
          description: Ok
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderMinimal'        
        "401": 
          description: Unauthorized Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnauthorizedError'        
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResourceNotFoundError'        
        "424":
          description: Failed Dependency
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailedDependencyError'
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
  v2/order/capture:
    put:
      summary: Realiza captura de um valor menor (captura parcial) do pagamento da venda junto ao adquirente de cartão de crédito
      description: "Rota responsável pela captura de valores menores do que aqueles da solicitação de pagamento realizadas na modalidade captura manual\n\n
                    **Atenção**: O pagamento deve estar com status [approved] para que seja possivel realizar a captura"
      operationId: v2CreateOrderCapture
      tags:
        - Order
      parameters:
        - in: header
          name: x-tenant-internal-id
          description: Public-Id da organização.
          required: true
          schema:
            $ref: '#/components/schemas/x-tenant-internal-id'
        - in: header
          name: x-source-id
          description: API-KEY de acesso do canal
          required: true
          schema:
            $ref: '#/components/schemas/x-source-id'
      requestBody:
          description: Dados necessários para captura parcial de um pagamento previamente autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CaptureParcialRequest'
      responses:
        "200":
          description: Ok
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderMinimal'
        "401": 
          description: Unauthorized Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnauthorizedError'
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResourceNotFoundError'
        "424":
          description: Failed Dependency
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailedDependencyError'
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'       
  v2/order/callback/transaction/{reference_key}:
    get:
        summary: Realiza busca do estado atual do processamento do pagamento utilizando o campo [reference_key] da transação associada ao pagamento
        description: "Rota responsável por retornar as informações do estado atual da solicitação de pagamento, utilizando a [reference key] da transação associada ao pagamento"
        operationId: v2GetOrderCallbackTransactionReferenceKey
        tags:
          - Order
        parameters:
          - in: header
            name: x-tenant-internal-id
            description: Public-Id da organização.
            required: true
            schema:
              $ref: '#/components/schemas/x-tenant-internal-id'
          - in: header
            name: x-source-id
            description: API-KEY de acesso do canal
            required: true
            schema:
              $ref: '#/components/schemas/x-source-id'
          - in: path
            name: reference_key
            description: "Chave de identificação do pagamento compartilhada entre o Gateway e o solicitante do processamento"
            required: true
            schema:
              $ref: '#/components/schemas/ReferenceKeyParameter'
        responses:
          "200":
            description: Ok
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/OrderMinimal'
          "401": 
            description: Unauthorized Error
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/UnauthorizedError'
          "404":
            description: Not found
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/ResourceNotFoundError'
          "500":
            description: Internal Server Error
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/InternalServerError' 
    post:
      summary: Realiza busca do estado atual do processamento do pagamento utilizando o campo [reference_key] da transação associada ao pagamento e envia uma notificação para o endereço de contato fornecido na solicitação de pagamento
      description: "Rota responsável por retornar as informações do estado atual da solicitação de pagamento, utilizando a [reference key] da transação associada ao pagamento e \
                    envia a notificação para o endereço de contato fornecido no campo [callback_url]\n\n \
                    **Atenção**: a [reference_key] é um identificador informado no momento da criação do pagamento e representa a chave compartilhada entre o Gateway e o solicitante do processamento"
      operationId: v2CreateOrderCallbackTransactionReferenceKey
      tags:
        - Order
      parameters:
        - in: header
          name: x-tenant-internal-id
          description: Public-Id da organização.
          required: true
          schema:
            $ref: '#/components/schemas/x-tenant-internal-id'
        - in: header
          name: x-source-id
          description: API-KEY de acesso do canal
          required: true
          schema:
            $ref: '#/components/schemas/x-source-id'
        - in: path
          name: reference_key
          description: "Chave de identificação do pagamento compartilhada entre o Gateway e o solicitante do processamento"
          required: true
          schema:
            $ref: '#/components/schemas/ReferenceKeyParameter'
      responses:
        "200":
          description: Ok
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderMinimal'
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResourceNotFoundError'
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
  v2/order/cancellation:
    post:
      summary: Realiza cancelamento de um pedido em análise
      description: |
           Endpoint responsável pelo cancelamento de pedidos aprovados/processando.
 
           Status obrigatórios para realizar o cancelamento [**AUTHORIZED**, **RECEIVED**, **APPROVED**]
      operationId: v2CancellationOrderSoid
      tags:
        - Order
      parameters:
        - in: header
          name: x-tenant-internal-id
          description: Public-Id da organização.
          required: true
          schema:
            $ref: '#/components/schemas/x-tenant-internal-id'
        - in: header
          name: x-source-id
          description: API-KEY de acesso do canal
          required: true
          schema:
            $ref: '#/components/schemas/x-source-id'
      requestBody:
        description: Object to request the cancellation of previously approved/authorized order.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OrderCancelSoidRequest'
      responses:
        200:
          description: Ok
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderMinimal'
        401:
          description: Unauthorized
        404:
          description: Not found
        424:
          description: Failed Dependency
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailedDependencyError'
        500:
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
  v2/order/refund:
    post:
      summary: Realiza o estorno de um pagamento previamente processado pelo Gateway
      description: "Rota responsável por realizar estornos de pagamento processados pelo Gateway.\n\n
      **Atenção**: \n\n \
      Para realizar o estorno o pagamento deve obedecer as seguintes condições:\n\n
      - Pagamento original deve sido processado com sucesso pelo Gateway\n
      - Pagamento original deve ter sido processado nos últimos 90 dias"
      operationId: v2CreateOrderRefund
      tags:
        - Order
      parameters:
        - in: header
          name: x-tenant-internal-id
          description: Public-Id da organização.
          required: true
          schema:
            $ref: '#/components/schemas/x-tenant-internal-id'
        - in: header
          name: x-source-id
          description: API-KEY de acesso do canal
          required: true
          schema:
            $ref: '#/components/schemas/x-source-id'
      requestBody:
        description: "Dados necessário para criar um estorno baseado em um pagamento processado anteriormente"
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OrderRefundRequest'
      responses:
        "201":
          description: Success response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderRefundMinimal'
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestError'
        "401": 
          description: Unauthorized Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnauthorizedError'
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidateError'
        "424":
          description: Failed Dependency
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailedDependencyError'
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
  v2/order/refund/callback/{reference_key}:
    get:
      summary: Realiza busca estado atual do estorno utilizando a [reference_key] da transação associada a solicitação de estorno
      description: "Rota responsável por retornar as informações do estado atual do estorno, utilizando a reference key da transação associada a solicitação de estorno"
      operationId: v2GetOrderRefundCallbackReferenceKey
      tags:
        - Order
      parameters:
        - in: header
          name: x-tenant-internal-id
          description: Public-Id da organização.
          required: true
          schema:
            $ref: '#/components/schemas/x-tenant-internal-id'
        - in: header
          name: x-source-id
          description: API-KEY de acesso do canal
          required: true
          schema:
            $ref: '#/components/schemas/x-source-id'
        - in: path
          name: reference_key
          required: true
          description: "Chave de identificação da solicitação de estorno compartilhada entre o Gateway e o solicitante do estorno"
          schema:
            $ref: '#/components/schemas/ReferenceKeyParameter'
      responses:
        "200":
          description: Ok
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderRefundMinimal'
        "401": 
          description: Unauthorized Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnauthorizedError'
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResourceNotFoundError'
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
  v2/organization:
    post:
      summary: "Cria o cadastro de uma nova organização"
      description: "Rota responsável por criar o cadastro de uma nova organização. \n\n
      **Atenção**: A organização é a entidade que estará associada a todas as solicitações processadas pelo gateway. \
      Ela atua como uma entidade \"guarda-chuva\" que reune todos os pagamentos e estornos transacionados junto as adquirentes de cartão de credito"
      operationId: v2CreateOrganization
      tags:
        - Organization
      requestBody:
         description: "Dados necessário para criar uma nova organização"
         content:
           application/json:
             schema:
               $ref: '#/components/schemas/OrganizationRequest'
      responses:
        "201":
          description: Success response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrganizationMinimal'
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestError'
        "401": 
          description: Unauthorized Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnauthorizedError'
        "409":
          description: Conflict
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrganizationMinimal'
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidateError'
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
  v2/organization/{reference_key}:
    get:
      description: "Rota responsável por retornar os dados cadastrais de uma organização, utilizando como chave a reference_key"            
      summary: Realiza a busca dos dados cadastrais da organização baseada na [reference_key] fornecida pelo solicitante no momento de sua criação
      operationId: v2CreateOrganizationReferenceKey
      tags:
        - Organization
      parameters:
        - in: header
          name: x-tenant-internal-id
          description: Public-Id da organização.
          required: true
          schema:
            $ref: '#/components/schemas/x-tenant-internal-id'
        - in: path
          name: reference_key
          required: true
          description: "Chave de identificação da organização compartilhada entre o Gateway e o solicitante do cadastro"
          schema:
            $ref: '#/components/schemas/ReferenceKeyParameter'  
      responses:
        "200":
          description: Ok
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrganizationMinimal'
        "401": 
          description: Unauthorized Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnauthorizedError'
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResourceNotFoundError'
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
  v2/organization/channel:
    post:
      summary: "Cria um novo canal através do qual a organização poderá receber pagamentos com cartão de crédito"
      description: "Rota responsável por criar um novo canal associado a uma organização previamente cadastrada"
      operationId: v2CreateOrganizationAdmin
      tags:
        - Organization
      parameters:
        - in: header
          name: x-tenant-internal-id
          description: Public-Id da organização.
          required: true
          schema:
            $ref: '#/components/schemas/x-tenant-internal-id'
      requestBody:
        description: "Dados necessários para criar um novo canal e associá-lo a uma organização criada previamente"
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OrganizationChannelRequest'
      responses:
        "201":
            description: Success response
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/OrganizationChannelMinimal'
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestError'
        "401": 
          description: Unauthorized Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnauthorizedError'
        "409":
          description: Conflict
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrganizationChannelMinimal'
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidateError'
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
  v2/recipient:
    post:
      summary: Cria um novo recebedor ou atualiza os dados caso o recebedor já exista
      description: "Rota responsável pela criação de um novo recebedor ou atualização dos dados cadastrais caso o recebedor já exista."
      operationId: v2CreateRecipient
      parameters:
        - in: header
          name: x-tenant-internal-id
          description: Public-Id da organização.
          required: true
          schema:
            $ref: '#/components/schemas/x-tenant-internal-id'
        - in: header
          name: x-source-id
          description: API-KEY de acesso do canal
          required: true
          schema:
            $ref: '#/components/schemas/x-source-id'
      tags:
        - Recipient
      requestBody:
          description: "Dados necessários para criar um novo recebedor"
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RecipientRequest'
      responses:
        "201":
          description: Success response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RecipientMinimal'
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestError'
        "401": 
          description: Unauthorized Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnauthorizedError'
        "409":
          description: Conflict
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RecipientMinimal'
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidateError'
        "424":
          description: Failed Dependency
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailedDependencyError'
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
  v2/recipient/{reference_key}:
    get:
      summary: Busca os dados do recebedor utilizando a chave de identificação [reference_key]
      description: "Rota responsável por realizar a busca pelos dados cadastrais do recebedor usando como chave a [reference_key] fornecida no momento de sua criação"
      operationId: v2FindRecipientReferenceKey
      tags:
        - Recipient
      parameters:
        - in: header
          name: x-tenant-internal-id
          description: Public-Id da organização.
          required: true
          schema:
            $ref: '#/components/schemas/x-tenant-internal-id'
        - in: header
          name: x-source-id
          description: API-KEY de acesso do canal
          required: true
          schema:
            $ref: '#/components/schemas/x-source-id'
        - in: path
          name: reference_key
          required: true
          description: "Chave de identificação do recebedor compartilhada entre o Gateway e o solicitante do cadastro"
          schema:
            $ref: '#/components/schemas/ReferenceKeyParameter'  
      responses:
        "200":
          description: Success response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RecipientMinimal'
        "401": 
          description: Unauthorized Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnauthorizedError'
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResourceNotFoundError'
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
 
components:
  schemas:
    MetadataObject:
      nullable: true
      additionalProperties: true      
      example: "{ \"additional_info\" : \"test\" }"
      description: "Quaisquer campos necessários que não estão definidos no contrato"
    PaymentOrderRequest:
      type: "object"
      description: Dados necessários para criar uma solicitação de pagamento de uma venda com cartão de crédito
      required:
        - "async"
        - "amount"
        - "capture"
        - "reference_key"
        - "ip"
        - "risk_analyses_fraud_flag"
        - "customer"
        - "products"
        - "transactions"
      properties:
        async:
           type: "boolean"
           example: false
           description: "Flag de processamento sync/async da operação"
        amount:
           type: "number"
           example: 100
           description: "Valor total da operação (É utilizado o valor inteiro sem separador de casa decimal. Ex: R$ 1000,50 deve ser enviado como 100050)"
        callback_url:
           type: "string"
           example: "http://localhost:8889/callback"
           maxLength: 256
           description: "Endereço callback por onde o cliente será notificado conforme o pagamento passar pelas etapas de processamento"
        capture:
           type: "boolean"
           example: false
           description: "Flag de captura automática caso pedido seja aprovado e autorizado com sucesso"
        reference_key:
           type: "string"
           example: "a4e69bcd-baee-4b59-b679-ae2e528ac548"
           maxLength: 36
           description: "Chave única de identificação para cada pagamento fornecida pelo solicitante do processamento (atua como identificador único o entre o Gateway e o solicitante)"
        ip:
           type: "string"
           example: "186.201.134.67"
           maxLength: 32
           description: "IP de origem da operação"
        metadata:
          $ref: '#/components/schemas/MetadataObject'
        risk_analyses_fraud_flag:
           type: "boolean"
           example: true
           description: "Flag para ativar a verificação pelo anti-fraud"
        customer:
          type: "object"
          description: "Informações do cliente que realizou o pagamento"
          required:
            - "name"
            - "document_number"
            - "document_type"
          properties:
            name:
              type: "string"
              maxLength: 64
              example: "João Pedro da Silva"
              description: "Nome do cliente."
            document_number:
              type: "string"
              maxLength: 14
              example: "12345678901"
              description: "CPF/CNPJ do cliente da operação."
            email:
              type: "string"
              maxLength: 200
              example: "joaopedro@email.com"
              description: "Email do cliente."
            document_type:
              type: "string"
              enum: ["NATURAL_PERSON", "LEGAL_PERSON"]
              example: "LEGAL_PERSON"
              description: "Tipo de cliente pessoa jurídica/pessoa física."
            gender:
              type: "string"
              enum: ["M", "F"]
              maxLength: 2
              example: "M"
              description: "Identidade de gênero do cliente."
            born_at:
              type: "string"
              example: "1992-12-25"
              description: "Data de nascimento do cliente"
            phone_numbers:
              type: "array"
              uniqueItems: true
              items:
                type: "string"
                example: "16937112002" 
                maxLength: 11
                description: "Telefone com DDD para contato"
        customer_shipping:
          type: "object"
          description: "Informações do cliente destinatário da venda (Deve ser preenchido quando existir nó [shipping])"
          required:
            - "name"
            - "document_number"
            - "document_type"
          properties:
            name:
              type: "string"
              maxLength: 64
              example: "João Pedro da Silva"
              description: "Nome do cliente."
            document_number:
              type: "string"
              maxLength: 14
              example: "12345678901"
              description: "CPF/CNPJ do cliente da operação."
            email:
              type: "string"
              maxLength: 200
              example: "joaopedro@email.com"
              description: "Email do cliente."
            document_type:
              type: "string"
              enum: ["NATURAL_PERSON", "LEGAL_PERSON"]
              example: "LEGAL_PERSON"
              description: "Tipo de cliente pessoa jurídica/pessoa física."
            gender:
              type: "string"
              enum: ["M", "F"]
              maxLength: 2
              example: "M"
              description: "Identidade de gênero do cliente."
            born_at:
              type: "string"
              example: "1992-12-25"
              description: "Data de nascimento do cliente"
            phone_numbers:
              type: "array"
              uniqueItems: true
              items:
                type: "string"
                example: "16937112002" 
                maxLength: 11
                description: "Telefone com DDD para contato"          
        shipping:
          type: "object"
          description: "Descrições das condições de entrega (Deve ser preenchido quando existir o nó [customer_shipping])"
          required:
            - "fee"
            - "delivery_date"
            - "street"
            - "street_number"
            - "neighborhood"
            - "zipcode"
            - "city"
            - "state"
          properties:
            delivery_date:
              type: "string"
              example: "2021-12-25"
              description: "Data prevista de entrega do pedido."
            fee:
              type: "number"
              example: 100
              description: "Valor do frete (É utilizado o valor inteiro sem o separador de casas decimais. Ex: R$ 1000,50 deve ser enviado como 100050)"
            method:
              type: "string"
              enum: ["store_delivery", "customer_shipping"]
              example: "store_delivery"
              description: "Método de entrega. store_delivery: retirada em loja / customer_shipping: entrega convencional"
            company:
              type: "string"
              maxLength: 100
              example: "Correios S/A"
              description: "Empresa responsável pela entrega."
            street:
              type: "string"
              maxLength: 80
              example: "Rua Integração"
              description: "Rua de localização do endereço de entrega."
            street_number:
              type: "string"
              maxLength: 10
              example: "74"
              description: "Número do endereço de entrega."
            complementary:
              type: "string"
              maxLength: 200
              example: "Alguma informação complementar de endereço de entrega."
              description: "Informações complementares de endereço de entrega."
            neighborhood:
              type: "string"
              maxLength: 80
              example: "Bairro Faculdade"
              description: "Bairro do endereço de entrega."
            zipcode:
              type: "string"
              maxLength: 8
              example: "13560610"
              description: "CEP de localização do endereço de entrega (somente números)"
            city:
              type: "string"
              maxLength: 100
              example: "Cidade Exemplo"
              description: "Cidade onde está localizado o endereço de entrega."
            state:
              type: "string"
              maxLength: 2
              example: "SP"
              description: "Abreviatura do estado brasileiro onde se encontra o endereço de entrega."
        billing:
          type: "object"
          description: "Informações sobre o endereço de cobrança do pagamento"
          required:
            - "street"
            - "street_number"
            - "neighborhood"
            - "zipcode"
            - "city"
            - "state"
          properties:
            street:
              type: "string"
              maxLength: 80
              example: "Rua Integração"
              description: "Rua de localização do endereço de cobrança."
            street_number:
              type: "string"
              maxLength: 10
              example: "74"
              description: "Número do endereço de cobrança."
            complementary:
              type: "string"
              maxLength: 200
              example: "Alguma informação complementar de endereço de cobrança."
              description: "Informações complementares de endereço de cobrança."
            neighborhood:
              type: "string"
              maxLength: 80
              example: "Bairro Faculdade"
              description: "Bairro do endereço de cobrança."
            zipcode:
              type: "string"
              maxLength: 8
              example: "13560610"
              description: "CEP de localização do endereço de cobrança (somente números)"
            city:
              type: "string"
              maxLength: 100
              example: "Cidade Exemplo"
              description: "Cidade onde está localizado o endereço de cobrança."
            state:
              type: "string"
              maxLength: 2
              example: "SP"
              description: "Abreviatura do estado brasileiro onde se encontra o endereço de cobrança."
        products:
          type: "array"
          description: "Relação de produtos que compoem o pedido que gerou o pagamento"
          uniqueItems: true
          items:
            type: "object"
            required:
              - "item_code"
              - "name"
              - "unit_price"
              - "quantity"
            properties:
              name:
                type: "string"
                example: "Mouse sem fio"
                maxLength: 100
                description: "Nome do produto."
              item_code:
                type: "string"
                example: "ce0de565bj"
                maxLength: 36
                description: "Código do produto."
              unit_price:
                type: "number"
                example: 100
                description: "Valor unitário do produto (É utilizado o valor inteiro sem separador de casa decimal. Ex: R$ 1000,50 deve ser enviado como 100050)"
              quantity:
                type: "number"
                example: 1
                description: "Quantidade de produtos presentes no pedido."
              sku:
                type: "string"
                example: "E179485782021010519514A"
                maxLength: 36
                description: "Código do produto para identificação no estoque."
              category:
                type: "string"
                example: "Acessórios de Tecnologia"
                maxLength: 32
                description: "Categoria do produto."
              description:
                type: "string"
                example: "Mouse sem fio para notebook"
                maxLength: 200
                description: "Descrição do produto"
        transactions:
          type: "array"
          uniqueItems: true
          items:
            type: "object"
            required:
              - "reference_key"
              - "amount"
              - "payment_method"
            properties:
              reference_key:
                type: "string"
                maxLength: 36
                example: "4008b8bf-b58e-4abd-b5de-348fc772114e"
                description: "Chave única de identificação para transação fornecida pelo solicitante do processamento (atua como identificador único entre o Gateway e o solicitante)"
              soft_description:
                type: "string"
                maxLength: 140
                example: "Pagamento novo mouse o notebook"
                description: "Mensagem complementar da transação"
              amount:
                type: "number"
                example: 100
                description: "Valor da transação (É utilizado adicionado o valor inteiro sem separador de casa decimal. Ex: R$ 1000,50 deve ser enviado como 100050)"
              holder_name:
                type: "string"
                maxLength: 100
                example: "João Pedro da Silva"
                description: "Nome do cliente da operação"
              holder_document_number:
                type: "string"
                maxLength: 14
                example: "12345678901"
                description: "CPF/CNPJ do cliente da operação"
              installments:
                type: "number"
                example: 1
                description: "Número de parcelas da operação"
              card_brand:
                type: "string"
                maxLength: 36
                example: "visa"
                enum: ["amex", "discover", "elo", "hipercard", "mastercard", "visa"]
                description: "Bandeira do cartão utilizado"
              card_encrypt:
                type: "string"
                example: "RwqMy5QSqDQtsC5ke//HsipjHsOLTA+8CCp17OQaWp+EXtgG8TtjWzZ/2aeCBEIjjCdJb5w3GkRip04eTGB9NRp5mQW0dDJzywwSoHYNcef/I7XHVMMRs0W81nexcobxFkyuFQ5jPXyJ48JRl0WyFEYf407/ytr0bEl4K4/4i3j6bdcRrmLjslEG2HYLsIZ507OraBBPipy3Mu3a5KA62oP4xVNzDGGGVDgL99kxIyYpdLaLW4BfAMfZ/v6eiE4Y5gJaZAe3BsDd3p/6QIefaLTwronM4L3Yt/yL3SMT6I7unh3ew/SJQubHmTxaLyrSsvXG3C3BIH0gYtAzGcGHtA=="
                description: "Token com todas as informações do cartão"
              payment_method:
                type: "string"
                enum: ["credit_card"]
                example: "credit_card"
                description: "Forma de pagamento"
              metadata:
                $ref: '#/components/schemas/MetadataObject'
        split_rules:
          type: "array"
          uniqueItems: true
          items:
            type: "object"
            required:
              - "amount"
            properties:
              recipient_id:
                type: "string"
                maxLength: 36
                example: "607c7687-757b-4aa5-ac55-463c00cb57c5"
                description: "Identificador do recebedor. (Quando fornecido [recipient_id] não é necessário preencher [recipient_reference_key])"
              recipient_reference_key:
                type: "string"
                maxLength: 36
                example: "5f9c9b4f-e179-4fad-ab91-59066eccd94c"
                description: "Identificador do recebedor. (Quando fornecido [recipient_reference_key] não é necessário preencher [recipient_id])"
              reference_key:
                nullable: true
                type: "string"
                maxLength: 36
                example: "1ea613fd-d77b-4985-a90b-b487c582c9a7"
                description: "Chave única de identificação para cada regra fornecida pelo solicitante do processamento (atua como identificador único entre o Gateway e o solicitante)"
              amount:
                type: "number"
                example: 10050
                description: "Valor que o recebedor irá receber na transação. (É adicionado o valor inteiro sem a vírgula. Ex.: R$ 1000,50 é colocado **100050**)"
              mdr: ## em avaliação
                type: "number"
                example: 100
                description: "Valor da taxa do adquirente. (É adicionado o valor inteiro sem a vírgula. Ex.: R$ 1,00 é colocado **100**)"
              charge_process_fee: ## em avaliação
                type: "boolean"
                example: true
                description: "Flag de captura automática caso pedido seja aprovado e autorizado com sucesso"
              chargeback_liability: ## em avaliação
                type: "boolean"
                example: true
                description: "Flag de captura automática caso pedido seja aprovado e autorizado com sucesso"
              force_unblock: ## em avaliação
                type: "boolean"
                example: true
                description: "Define se os recebíveis vinculados a essa regra devem ser criados desbloqueados."
              metadata:
                $ref: '#/components/schemas/MetadataObject'
    OrderMinimal:
      type: "object"
      description: Dados da solicitação de pagamento de venda com cartão de crédito
      properties:
        status:
          type: "string"
          enum: ["received", "approved", "authorized", "partially_authorized", "refused", "denied", "partially_captured", "captured", "not_captured", "canceled"]
          maxLength: 32
          example: "captured"
          description: "Status do pagamento"
        soid:
          type: "string"
          maxLength: 36
          example: "34e27158-ae73-400d-875d-d3e3f989516b"
          description: "Identificador do pagamento interno utilizado pelo Gateway"
        reference_key:
          type: "string"
          maxLength: 36
          example: "fe851263-c3b1-4943-84f8-fb92ca0bd513"          
          description: "Chave única de identificação para cada pagamento fornecida pelo solicitante do processamento (atua como identificador único entre o Gateway e o solicitante)"
        risk_analyses_status:
          type: "string"
          enum: ["approved", "pending", "declined"]
          maxLength: 32
          example: "approved"
          description: "Status da análise de risco"
        status_message:
          type: "string"
          example: null
          nullable: true          
          description: "Mensagem relacionada ao status que o pedido se encontra"
        status_message_code:
          type: "string"
          nullable: true
          maxLength: 120
          example: null
          description: "Código da mensagem relacionada ao status que o pedido se encontra"
        callback_url:
            type: "string"
            example: "http://localhost:8889/callback"
            maxLength: 256
            description: "Endereço callback por onde o cliente será notificado conforme o pagamento passar pelas etapas de processamento"
        amount:
          type: "number"
          example: 3000
          description: "Valor total da operação. (É utilizado o valor inteiro sem separador de casa decimal. Ex: R$ 1000,50 será representado como 100050)"
        channel:
          type: "string"
          example: "channel-teste"
          maxLength: 64
          description: "Canal de origem da operação"
        origin:
          type: "string"
          enum: ["sale"]
          example: "sale"
          maxLength: 32
          description: "Origem da operação"
        receivable_at:
          type: "string"
          maxLength: 50
          example: "2021-12-07T12:40:36.701Z"
          description: Data hora da geração de agenda de recebíveis
        metadata:
          $ref: '#/components/schemas/MetadataObject'
        created_at:
          type: "string"
          maxLength: 50
          example: "2021-12-07T12:30:14.701Z"
          description: "Data e hora em da criação do pagamento"
        transactions:
          type: "array"
          uniqueItems: true
          items:
            type: "object"
            properties:
              created_at:
                type: "string"
                maxLength: 50
                example: "2021-01-15T16:30:14.701Z"
                description: Data e hora da criação do pagamento.
              metadata:
                $ref: '#/components/schemas/MetadataObject'
              acceptance_datetime:
                type: "string"
                maxLength: 50
                example: "2021-01-15T16:30:14.701Z"
                description: Data hora de início de transação.
              reference_key:
                  type: "string"
                  maxLength: 36
                  example: "d0baa5e3-2e12-4c41-a3ce-293674dde36b"                  
                  description: "Chave única de identificação para cada transação fornecida pelo solicitante do processamento (atua como identificador único entre o Gateway e o solicitante)"
              status:
                type: "string"
                enum: ["received", "authorized", "partially_authorized", "refused", "waiting_payment", "not_captured", "captured", "canceled"]
                maxLength: 32
                example: "captured"
                description: "Status da transação"
              status_message:
                nullable: true
                type: "string"
                example: null
                description: "Mensagem relacionada ao status que a transação se encontra"
              status_message_code:
                nullable: true
                type: "string"
                maxLength: 120
                example: null
                description: "Código da mensagem relacionada ao status que a transação se encontra"
              soft_description:
                type: "string"
                maxLength: 140
                description: "Mensagem complementar da transação"
              acquirer:
                type: "string"
                enum: ["cielo", "adyen"]
                maxLength: 32
                example: "adyen"
                description: "Adquirente que processou a transação"
              holder_name:
                type: "string"
                maxLength: 100
                example: "João Pedro da Silva"
                description: "Nome do cliente da operação"
              holder_document_number:
                type: "string"
                maxLength: 14
                example: "12345678901"
                description: "CPF/CNPJ do cliente da operação"
              amount:
                type: "number"
                example: 3000
                description: "Valor da transação (É utilizado o valor inteiro sem o separador de casas decimais. Ex: R$ 1000,50 será representado como 100050)"
              refunded_amount:
                type: "number"
                example: 3000
                description: "Valor estornado na transação (É utilizado o valor inteiro sem o separador de casas decimais. Ex: R$ 1000,50 será representado como 100050)"
              installments:
                type: "number"
                example: 1
                description: "Número de parcelas da operação"
              payment_method:
                type: "string"                
                example: "credit_card"
                description: "Forma de pagamento"
              tid:
                type: "string"
                maxLength: 36
                example: "1119013201033"
                description: "TID da adquirente"
              issuer_transaction_id:
                type: "string"
                maxLength: 36
                example: "1119013201033"
                description: "TID do emissor da transação"
              nsu:
                type: "string"
                maxLength: 36
                example: "3201033"
                description: "NSU da adquirente"
              card_brand:
                type: "string"
                maxLength: 36
                example: "visa"
                description: "Bandeira do cartão utilizado"
              card_number:
                type: "string"
                maxLength: 16
                example: "1234********4321"
                description: "Número ofuscado do cartão"
              authorization_code:
                type: "string"
                maxLength: 36
                example: "566457"
                description: "Código de autorização da adquirente"
              original_authorization_code:
                type: "string"
                maxLength: 36
                example: "566457"
                description: "Código de autorização original da adquirente"              
              authorized_at:
                type: "string"
                maxLength: 50
                example: "2021-01-15T16:35:14.701Z"
                description: "Data e hora da autorizacao da transação"
              captured_at:
                type: "string"
                maxLength: 50
                example: "2021-01-15T16:30:14.701Z"
                description: "Data e hora de captura da transação"
              stid:
                type: "string"
                maxLength: 36
                example: "a94c93d6-82db-4842-97f5-a938f7f6b998"
                description: "Identificador interno da transação para o Sésamo"
              refunds:
                description: "Dados do estorno caso a transação tenha sido estornada (status [refunded])"
                type: "array"
                uniqueItems: true
                items:
                  type: "object"
                  properties:
                    metadata:
                      $ref: '#/components/schemas/MetadataObject'
                    acceptance_datetime:
                      type: "string"
                      maxLength: 50
                      example: "2021-01-15T16:30:14.701Z"
                      description: Data hora de início de transação.
                    status_message:
                      type: "string"
                      example: "Transaction has been updated successfully!"
                      description: "Mensagem relacionada ao status que a transação se encontra"
                    status_message_code:
                      type: "string"
                      maxLength: 120
                      example: "transaction_approved"
                      description: "Código da mensagem relacionada ao status que a transação se encontra"                    
                    reference_key:
                        type: "string"
                        maxLength: 36
                        example: "5c3dca67-9a11-5bb6-8d50-04ab4afc63d0"
                        description: "Chave única de identificação para cada estorno fornecida pelo solicitante do processamento (atua como identificador único entre o Gateway e o solicitante)"
                    nsu:
                      type: "string"
                      maxLength: 36
                      example: "3201033"
                      description: NSU da adquirente
                    srid:
                      type: "string"
                      maxLength: 36
                      example: "969ca88a-dbbb-4a14-862e-cb62a2f9438a"
                      description: "Identificador do estorno para o Sésamo"
                    status:
                      type: "string"
                      enum: ["received", "refused", "captured", "not_captured"]
                      maxLength: 32
                      example: "captured"
                      description: "Status do estorno"
                    amount:
                      type: "number"
                      example: 3000
                      description: "Valor da transação (É utilizado o valor inteiro sem o separador de casas decimais. Ex: R$ 1000,50 deve ser representado como 100050)"
                    authorized_at:
                      type: "string"
                      maxLength: 50
                      example: "2021-01-15T16:59:27.485Z"
                      description: "Data e hora da autorização do estorno"
                    captured_at:
                      type: "string"
                      maxLength: 50
                      example: "2021-01-15T17:00:14.701Z"
                      description: "Data e hora de captura do estorno"
                    soft_description:
                      type: "string"
                      maxLength: 140
                      example: "Devolvendo mouse sem fio"
                      description: "Mensagem complementar para o estorno"
        split_rules:
          type: "array"
          uniqueItems: true
          items:
            type: "object"
            properties:
              metadata:
                $ref: '#/components/schemas/MetadataObject'
              ssplid:
                type: "string"
                maxLength: 36
                example: "8cc8bc71-f9f9-41cb-8cee-b09557514b09"
                description: "Identificador Sésamo para a regra."
              recipient_id:
                type: "string"
                maxLength: 36
                example: "607c7687-757b-4aa5-ac55-463c00cb57c5"
                description: "Identificador do recebedor."
              reference_key:
                type: "string"
                maxLength: 36
                example: "4008b8bf-b58e-4abd-b5de-348fc772114e"                
                description: "Chave única de identificação para cada regra de divisão fornecida pelo solicitante do processamento (atua como identificador único entre o Gateway e o solicitante)"
              amount:
                type: "number"
                example: 10050
                description: "Valor que o recebedor irá receber na transação. (É utilizado o valor inteiro sem o separador de casas decimais. Ex: R$ 1000,50 deve ser representado como 100050)"
              mdr: ## em avaliação
                type: "number"
                example: 100
                description: "Valor da taxa do adquirente. (É utilizado o valor inteiro sem o separador de casas decimais. Ex: R$ 1,00 deve ser enviado como 100)"
              charge_process_fee: ## em avaliação
                type: "boolean"
                example: true
                description: "Flag de captura automática caso pedido seja aprovado e autorizado com sucesso"
              chargeback_liability: ## em avaliação
                type: "boolean"
                example: true
                description: "Flag de captura automática caso pedido seja aprovado e autorizado com sucesso"
              force_unblock: ## em avaliação
                type: "boolean"
                example: true
                description: "Define se os recebíveis vinculados a essa regra devem ser criados desbloqueados."
    OrderCaptureSoidRequest:
      properties:
        soid:
          type: "string"
          description: "Identificador interno da operação"
          example: "a608ce72-1ede-402a-8c98-cc03f1591a01"
    CaptureParcialRequest:
      type: "object"
      required:
        - "amount"
        - "reference_key"
        - "transactions"
        - "split_rules"
      properties:
        amount:
            type: "number"
            example: 100
            description: "Valor total da operação. (É utilizado o valor inteiro sem o separador de casas decimais. Ex: R$ 1000,50 deve ser enviado como 100050)"
        reference_key:
            type: "string"
            example: "a4e69bcd-baee-4b59-b679-ae2e528ac548"
            maxLength: 36            
            description: "Chave única de identificação para operação de captura fornecida pelo solicitante do processamento (atua como identificador único entre o Gateway e o solicitante)"
        transactions:
          type: "array"
          uniqueItems: true
          items:
            type: "object"
            required:
              - "reference_key"
              - "amount"
            properties:
              reference_key:
                type: "string"
                maxLength: 36
                example: "4008b8bf-b58e-4abd-b5de-348fc772114e"
                description: "Chave única de identificação para cada transação fornecida pelo solicitante do processamento (atua como identificador único entre o Gateway e o solicitante)"
              amount:
                type: "number"
                example: 100
                description: "Valor da transação (É utilizado o valor inteiro sem o separador de casas decimais. Ex: R$ 1000,50 deve ser enviado como 100050)"
        split_rules:
          type: "array"
          uniqueItems: true
          items:
            type: "object"
            required:
              - "amount"
            properties:
              recipient_id:
                type: "string"
                maxLength: 36
                example: "4008b8bf-b58e-4abd-b5de-348fc772114e"
                description: "Identificador do recebedor."
              recipient_reference_key:
                type: "string"
                maxLength: 36
                example: "0f35a03c-7a5a-431e-b120-3f38d73c1aa8"
                description: "Identificador do recebedor. (Quando fornecido [recipient_reference_key] não é necessário preencher [recipient_id])"
              reference_key:
                nullable: true
                type: "string"
                maxLength: 36
                example: "f42e8e63-9a4a-4b5d-b7d5-25e93f03be58"
                description: "Chave única de identificação para cada regra de divisão fornecida pelo solicitante do processamento (atua como identificador único entre o Gateway e o solicitante)"
              amount:
                type: "number"
                example: 10050
                description: "Valor que o recebedor irá receber na transação. (É utilizado o valor inteiro sem o separador de casas decimais. Ex: R$ 1000,50 deve ser enviado como 100050)"
              mdr: ## em avaliação
                type: "number"
                example: 100
                description: "Valor da taxa do adquirente. (É utilizado o valor inteiro sem o separador de casas decimais. Ex: R$ 1,00 deve ser enviado como 100)"
              charge_process_fee: ## em avaliação
                type: "boolean"
                example: true
                description: "Flag de captura automática caso pedido seja aprovado e autorizado com sucesso"
              chargeback_liability: ## em avaliação
                type: "boolean"
                example: true
                description: "Flag de captura automática caso pedido seja aprovado e autorizado com sucesso"
              force_unblock: ## em avaliação
                type: "boolean"
                example: true
                description: "Define se os recebíveis vinculados a essa regra devem ser criados desbloqueados."
              metadata:
                $ref: '#/components/schemas/MetadataObject'
    ReferenceKeyParameter:
      properties:
        reference_key:
          type: "string"
          description: "Chave única de identificação compartilhada entre o Gateway e o solicitante do processamento"
          example: "4008b8bf-b58e-4abd-b5de-348fc772114e"
    OrderCancelSoidRequest:
      properties:
        soid:
          type: "string"
          description: "Identificador interno da operação"
          example: "a608ce72-1ede-402a-8c98-cc03f1591a01"
    OrderRefundRequest:
      type: "object"
      required:
        - "amount"
        - "reference_key"
        - "transactions"
      properties:
        amount:
            type: "number"
            example: 100050
            description: "Valor total da operação. (É utilizado o valor inteiro sem o separador de casas decimais. Ex: R$ 1000,50 deve ser enviado como 100050)"
        callback_url:
            type: "string"
            example: "http://localhost:8889/callback"
            maxLength: 256
            description: "Endereço callback para notificar solicitante da situação do estorno."
        reference_key:
            type: "string"
            example: "5ca868fc-cebc-490c-b688-d955a1786436"
            maxLength: 36
            description: "Chave única de identificação para operação de estorno fornecida pelo solicitante do processamento (atua como identificador único entre o Gateway e o solicitante)"
        soid:
            type: "string"
            example: "4008b8bf-b58e-4abd-b5de-348fc772114e"
            maxLength: 36
            description: "Identificador do pedido no Sésamo"
        metadata:
            $ref: '#/components/schemas/MetadataObject'
        transactions:
          type: "array"
          uniqueItems: true
          items:
            type: "object"
            required:
              - "reference_key"
              - "amount"
              - "stid"
            properties:
              acceptance_datetime:
                type: "string"
                maxLength: 50
                example: "2021-01-15T16:30:14.701Z"
                description: Data hora de início de transação.
              reference_key:
                type: "string"
                maxLength: 36
                example: "d2549c92-596d-4f62-8d7a-57dcbdfaa176"
                description: "Chave única de identificação para transação que compõe a operação de estorno fornecida pelo solicitante do processamento (atua como identificador único entre o Gateway e o solicitante)"
              amount:
                type: "number"
                example: 100050
                description: "Valor da transação (É utilizado o valor inteiro sem o separador de casas decimais. Ex: R$ 1000,50 deve ser enviado como 100050)"
              metadata:
                $ref: '#/components/schemas/MetadataObject'
              stid:
                  type: "string"
                  example: "ab0e637e-87f5-44e6-ba7b-2ba51f6dda43"
                  maxLength: 36
                  description: "Identificador da transação no Sésamo"
              nsu:
                type: "string"
                maxLength: 36
                example: "3201033"
                description: NSU da adquirente
              soft_description:
                type: "string"
                maxLength: 140
                example: "Devolvendo mouse para notebook"
                description: "Mensagem complementar para o estorno"
        split_rules:
          type: "array"
          uniqueItems: true
          items:
            type: "object"
            required:
              - "amount"
            properties:
              recipient_id:
                type: "string"
                maxLength: 36
                example: "607c7687-757b-4aa5-ac55-463c00cb57c5"
                description: "Identificador do recebedor. (Quando fornecido [recipient_id] não é necessário preencher [recipient_reference_key])"
              recipient_reference_key:
                type: "string"
                maxLength: 36
                example: "5f9c9b4f-e179-4fad-ab91-59066eccd94c"
                description: "Identificador do recebedor. (Quando fornecido [recipient_reference_key] não é necessário preencher [recipient_id])"
              reference_key:
                nullable: true
                type: "string"
                maxLength: 36
                example: "412a9adb-6d8a-4bda-938c-910610d9b6a3"
                description: "Chave única de identificação para regra de divisão fornecida pelo solicitante do processamento (atua como identificador único entre o Gateway e o solicitante)"
              amount:
                type: "number"
                example: 10050
                description: "Valor que o recebedor irá receber na transação. (É utilizado o valor inteiro sem o separador de casas decimais. Ex: R$ 1000,50 deve ser enviado como 100050)"
              mdr: ## em avaliação
                type: "number"
                example: 100
                description: "Valor da taxa do adquirente. (É utilizado o valor inteiro sem o separador de casas decimais. Ex: R$ 1,00 deve ser enviado como 100)"
              charge_process_fee: ## em avaliação
                type: "boolean"
                example: true
                description: "Flag de captura automática caso pedido seja aprovado e autorizado com sucesso"
              chargeback_liability: ## em avaliação
                type: "boolean"
                example: true
                description: "Flag de captura automática caso pedido seja aprovado e autorizado com sucesso"
              force_unblock: ## em avaliação
                type: "boolean"
                example: true
                description: "Define se os recebíveis vinculados a essa regra devem ser criados desbloqueados."
              metadata:
                $ref: '#/components/schemas/MetadataObject'
    OrderRefundMinimal:    
      type: "object"
      description: Order Refund Response
      properties:
        callback_url:
           type: "string"
           example: "http://localhost:8889/callback"
           maxLength: 256
           description: "Endereço callback para notificar situação do estorno."
        status:
          type: "string"
          enum: ["received", "partially_captured", "refused", "captured", "not_captured"]
          maxLength: 32
          example: "partially_captured"
          description: "Status do estorno"
        sorid:
          type: "string"
          maxLength: 36
          example: "5cf93727-b5c9-4975-a8f2-7568442bbb91"
          description: "Identificador do Sésamo da operação"
        reference_key:
          type: "string"
          maxLength: 36
          example: "a92b5c6f-c5da-48b4-970a-f0b705107f27"
          description: "Chave única de identificação para operação de estorno fornecida pelo solicitante do processamento (atua como identificador único entre o Gateway e o solicitante)"
        amount:
          type: "number"
          example: 10050
          description: "Valor total da operação (É utilizado o valor inteiro sem o separador de casas decimais. Ex: R$ 1000,50 deve ser enviado como 100050)"
        channel:
          type: "string"
          example: "Site"
          maxLength: 64
          description: "Canal de origem da operação"
        receivable_at:
          type: "string"
          maxLength: 50
          example: "2021-12-07T17:52:36.487Z"
          description: Data e hora da geração de agenda de recebíveis
        metadata:
          $ref: '#/components/schemas/MetadataObject'
        transactions:
          type: "array"
          uniqueItems: true
          items:
            type: "object"
            properties:
              acceptance_datetime:
                type: "string"
                maxLength: 50
                example: "2021-12-07T17:50:31.896Z"
                description: Data e hora de início de transação.
              status_message:
                type: "string"
                example: "transaction has been updated successfully!"
                description: "Mensagem relacionada ao status que a transação se encontra"
              status_message_code:
                type: "string"
                maxLength: 120
                example: "transaction_approved"
                description: "Código da mensagem relacionada ao status que a transação se encontra"
              reference_key:
                 type: "string"
                 maxLength: 36
                 example: "b6f404cb-66c6-4d93-977b-3bfdec0c1fdb"
                 description: "Chave única de identificação para transação que compõe a operação de estorno fornecida pelo solicitante do processamento (atua como identificador único entre o Gateway e o solicitante)"
              nsu:
                type: "string"
                maxLength: 36
                example: "3201033"
                description: NSU da adquirente
              srid:
                type: "string"
                maxLength: 36
                example: "b6f404cb-66c6-4d93-977b-3bfdec0c1fdb"
                description: "Identificador do Sésamo para o refund"
              status:
                type: "string"
                enum: ["received", "refused", "captured", "not_captured"]
                maxLength: 32
                example: "received"
                description: "Status da transação"
              amount:
                type: "number"
                example: 10050
                description: "Valor da transação (É utilizado o valor inteiro sem o separador de casas decimais. Ex: R$ 1000,50 deve ser enviado como 100050)"
              authorized_at:
                type: "string"
                maxLength: 50
                example: "2021-12-07T17:50:30.171Z"
                description: "Data e hora da autorizacao do estorno"
              captured_at:
                type: "string"
                maxLength: 50
                example: "2021-12-07T17:50:31.072Z"
                description: "Data e hora de captura do estorno"
              soft_description:
                type: "string"
                maxLength: 140
                example: "Devolvendo mouse para notebook"
                description: "Mensagem complementar para o estorno"
              metadata:
                 $ref: '#/components/schemas/MetadataObject'
        split_rules:
          type: "array"
          uniqueItems: true
          items:
            type: "object"
            properties:
              ssplid:
                type: "string"
                maxLength: 36
                example: "5c51458f-9a87-4e59-8335-3411fc6c647b"
                description: "Identificador Sésamo para a regra."
              recipient_id:
                type: "string"
                maxLength: 36
                example: "607c7687-757b-4aa5-ac55-463c00cb57c5"
                description: "Identificador do recebedor."
              reference_key:
                type: "string"
                maxLength: 36
                example: "5f9c9b4f-e179-4fad-ab91-59066eccd94c"
                description: "Chave única de identificação para regra de divisão fornecida pelo solicitante do processamento (atua como identificador único entre o Gateway e o solicitante)"
              amount:
                type: "number"
                example: 10050
                description: "Valor que o recebedor irá receber na transação. (É utilizado o valor inteiro sem o separador de casas decimais. Ex: R$ 1000,50 deve ser enviado como 100050)"
              mdr: ## em avaliação
                type: "number"
                example: 100
                description: "Valor da taxa do adquirente. (É utilizado o valor inteiro sem o separador de casas decimais. Ex: R$ 1,00 deve ser enviado como 100)"
              charge_process_fee: ## em avaliação
                type: "boolean"
                example: true
                description: "Flag de captura automática caso pedido seja aprovado e autorizado com sucesso"
              chargeback_liability: ## em avaliação
                type: "boolean"
                example: true
                description: "Flag de captura automática caso pedido seja aprovado e autorizado com sucesso"
              force_unblock: ## em avaliação
                type: "boolean"
                example: true
                description: "Define se os recebíveis vinculados a essa regra devem ser criados desbloqueados."
              metadata:
                $ref: '#/components/schemas/MetadataObject'
    OrganizationRequest:
      type: "object"
      required:
        - "document_number"
        - "reference_key"
        - "legal_name"
        - "fantasy_name"
      properties:
        document_number:
          type: "string"
          example: "07623088000228"
          maxLength: 14
          description: "CNPJ da Organização / CPF do responsável pela Organização (somente números)"
        reference_key:
          type: "string"
          maxLength: 36
          example: "0e007751-1c2b-489e-bb12-e6ddc1f4044a"
          description: "Chave única de identificação para organização fornecida pelo solicitante da criação (atua como identificador único entre o Gateway e o solicitante)"
        legal_name:
          type: "string"
          maxLength: 64
          example: " Luizalabs Computacao e Sistemas de Informacao LTDA."
          description: "Razão Social da Organização"
        fantasy_name:
          type: "string"
          maxLength: 120
          example: "SOFTBOX"
          description: "Nome Fantasia da Organização"
    OrganizationMinimal:    
      type: "object"
      properties:
        public_id:
          type: "string"
          maxLength: 36
          example: "8cdc2900-68a6-4f17-a4f1-87cf076e0327"
          description: "Identificador único da Organização"
        document_number:
          type: "string"
          maxLength: 14
          example: "07623088000228"
          description: "CNPJ da Organização / CPF do responsável pela Organização (somente números)"
        reference_key:
          type: "string"
          maxLength: 32
          example: "0e0077511c2b489ebb12e6ddc1f4044a"
          description: "Chave única de identificação da nova organização utilizado pelo solicitante da criação (atua como identificador único entre o Gateway e o solicitante)"
        legal_name:
          type: "string"
          maxLength: 64
          example: "Luizalabs Computacao e Sistemas de Informacao LTDA."
          description: "Razão Social da Organização"
        fantasy_name:
          type: "string"
          maxLength: 120
          example: "SOFTBOX"
          description: "Nome Fantasia da Organização"
    OrganizationChannelMinimal:
      type: "object"
      properties:
        public_id:
          type: "string"
          maxLength: 36
          example: "a107e18b-ce29-40f7-a6f7-6bd0efe28850"
          description: "Identificador único do canal"
        reference_key:
          type: "string"
          maxLength: 32
          example: "8dbdb8774ab5478a859a0828e8eca621"
          description: "Chave única de identificação do canal fornecido pelo solicitante da operação (atua como identificador único entre o Gateway e o solicitante)"
        name:
          type: "string"
          maxLength: 64
          example: "Checkout APP"
          description: "Nome descritivo do canal"
        disable_risk_analyses_fraud:
          type: "boolean"
          example: true
          description: "Flag para desabilitar a validação pelo anti-fraud"
        active:
          type: "boolean"
          example: true
          description: "Indicador de canal ativo"
        api_key:
          type: "string"
          maxLength: 36
          example: "8cdc290068a64f17a4f187cf076e0327"
          description: "Chave utiliza para comunicação com os serviços do Gateway Sésamo"
        integrate_receivable:
          type: "boolean"
          example: true
          description: "Flag para ativar a geração de agenda de recebíveis para as transações pertencentes ao canal."
    OrganizationChannelRequest:
      type: "object"
      required:
        - "reference_key"
        - "name"
      properties:
        reference_key:
          type: "string"
          maxLength: 36
          example: "8dbdb877-4ab5-478a-859a-0828e8eca621"
          description: "Chave única de identificação do canal fornecido pelo solicitante da operação (atua como identificador único entre o Gateway e o solicitante)"
        name:
          type: "string"
          maxLength: 64
          example: "Checkout APP"
          description: "Nome descritivo do canal"
        disable_risk_analyses_fraud:
          type: "boolean"
          example: true
          description: "Flag para desabilitar a validação pelo anti-fraud"
        integrate_receivable:
          type: "boolean"
          example: true
          description: "Flag para ativar a geração de agenda de recebíveis para as transações pertencentes ao canal."
    RecipientRequest:
      type: "object"
      required:
        - "document_number"
        - "reference_key"
        - "recipient_id"
      properties:
        recipient_id:
          type: "string"
          maxLength: 36
          example: "8051f97b-65d9-4970-87ec-02260db5a390"
          description: "Identificador único do recebedor do pagamento"
        reference_key:
          type: "string"
          maxLength: 36
          example: "0f35a03c-7a5a-431e-b120-3f38d73c1aa8"
          description: "Chave única de identificação do recebedor fornecido pelo solicitante da operação (atua como identificador único entre o Gateway e o solicitante)"
        document_number:
          type: "string"
          maxLength: 14
          example: "12345678901"
          description: "CNPJ do recebedor (somente números)"
        city:
          type: "string"
          maxLength: 30
          example: "São Paulo"
          description: "Nome da cidade do recebedor"
        country:
          type: "string"
          maxLength: 2
          example: "BR"
          description: "Nome do país onde se encontra o recebedor"
          default: "BR"
        name:
          type: "string"
          maxLength: 64
          example: "Teste Recipient"
          description: "Nome do recebedor"
        postal_code:
          type: "string"
          maxLength: 8
          example: "13560610"
          description: "CEP do endereço do recebedor (somente números)"
        state:
          type: "string"
          maxLength: 2
          minLength: 2
          example: "SP"
          description: "Código do estado do recebedor"
        street:
          type: "string"
          maxLength: 80
          example: "Rua Jose Bonifacio, 565"
          description: "Endereço do recebedor composto por nome da rua e número"
    RecipientMinimal:
      type: "object"
      properties:
        srecipient_id:
          type: "string"
          maxLength: 36
          example: "8cdc2900-68a6-4f17-a4f1-87cf076e0327"
          description: "Identificador interno do recebedor no Gateway Sésamo"
        recipient_id:
          type: "string"
          maxLength: 36
          example: "8051f97b-65d9-4970-87ec-02260db5a390"
          description: "Identificador único do recebedor do pagamento"
        reference_key:
          type: "string"
          maxLength: 36
          example: "0f35a03c-7a5a-431e-b120-3f38d73c1aa8"          
          description: "Chave única de identificação do recebedor fornecido pelo solicitante da operação (atua como identificador único entre o Gateway e o solicitante)"
        channel:
          type: "string"
          example: "Site"
          maxLength: 64
          description: "Canal pelo qual o recebedor foi registrado."        
        document_number:
          type: "string"
          maxLength: 14
          example: "12345678901"
          description: "CNPJ do recebedor (somente números)"
        city:
          type: "string"
          maxLength: 30
          example: "São Paulo"
          description: "Nome da cidade do recebedor"
        country:
          type: "string"
          maxLength: 2
          example: "BR"
          description: "Nome do país onde se encontra o recebedor"
          default: "BR"
        name:
          type: "string"
          maxLength: 64
          example: "Teste Sub-Merchant"
          description: "Nome do sub-merchant"
        postal_code:
          type: "string"
          maxLength: 8          
          example: "13560610"
          description: "CEP do endereço do recebedor (somente números)"
        state:
          type: "string"
          maxLength: 2
          minLength: 2
          example: "SP"
          description: "Código do estado do recebedor"
        street:
          type: "string"
          maxLength: 80
          example: "Rua Jose Bonifacio, 565"
          description: "Endereço do recebedor composto por nome da rua e número"
### avaliando com time de autenticação
    x-tenant-internal-id:
      type: "string"
    x-source-id:
      type: "string"
### erros
    BadRequestError:
      type: object
      properties:
        code:
          type: number
          description: "Código utilizado para indicar um erro de formação do payload utilizado na request"
          example: -1000
        message:
          type: string
          description: "Mensagem descrevendo o erro encontrado"
          example: "body with syntax error."
        timestamp: 
            type: string
            description: "Data e hora em que ocorreu o erro"
            example: "2021-12-09T15:56:38.916Z"          
        request:
            type: string
            description: "Identificador da requisição (uso interno para registro e acompanhamento)"
            example: "541f8cab-96ee-49f8-84fe-ffdc2dc33632"        
    ValidateError:
      type: object
      properties:
          code:
            type: string
            description: "Código utilizado para indicar um erro de validação em um dos campos fornecidos"
            example: "Validation Error"          
          message:
            type: string
            description: "Mensagem descrevendo o erro encontrado"
            example: "Há um ou mais erros nos dados informados, por favor corrija-os e tente novamente."
          request:
            type: string
            description: "Identificador da requisição (uso interno para registro e acompanhamento)"
            example: "541f8cab-96ee-49f8-84fe-ffdc2dc33632"
          timestamp: 
            type: string
            description: "Data e hora em que ocorreu o erro"
            example: "2021-12-09T15:56:38.916Z"          
          errors:
              type: object
              description: "Detalhes do erro encontrado ao tentar processa requisição"              
              example: 
                postal_code: "O campo não deve ter mais de 8 caracteres"              
    InternalServerError:
      type: object
      properties:
          code:
            type: string
            description: "Código utilizado para indicar um erro no momento do processamento"
            example: "DatabaseError"          
          message:
            type: string
            description: "Mensagem descrevendo o erro encontrado"
            example: "Ocorreu um erro ao tentar salvar os dados."
          request:
            type: string
            description: "Identificador da requisição (uso interno para registro e acompanhamento)"
            example: "541f8cab-96ee-49f8-84fe-ffdc2dc33632"
          timestamp: 
            type: string
            description: "Data e hora em que ocorreu o erro"
            example: "2021-12-09T15:56:38.916Z"          
    FailedDependencyError:
      type: object
      properties:
          code:
            type: string            
            description: "Código utilizado para indicar um erro ao acionar sistemas de terceiros"
            example: "FailedDependency"
          message:
            type: string
            description: "Mensagem descrevendo o erro encontrado"
            example: "Ocorreu um erro em um sistema terceiro"
          request:
            type: string
            description: "Identificador da requisição (uso interno para registro e acompanhamento)"
            example: "541f8cab-96ee-49f8-84fe-ffdc2dc33632"
          timestamp: 
            type: string
            description: "Data e hora em que ocorreu o erro"
            example: "2021-12-09T15:56:38.916Z"
    UnauthorizedError:
      type: object
      properties:
          code:
            type: string            
            description: "Código utilizado para indicar que o requerente não possui autorização para utilizar a rota"
            example: "Unauthorized"
          message:
            type: string
            description: "Mensagem descrevendo o erro encontrado"
            example: "Permissão negada" ## todo: corrigir "errors.unauthorizedError"
          request:
            type: string
            description: "Identificador da requisição (uso interno para registro e acompanhamento)"
            example: "541f8cab-96ee-49f8-84fe-ffdc2dc33632"
          timestamp: 
            type: string
            description: "Data e hora em que ocorreu o erro"
            example: "2021-12-09T15:56:38.916Z"
    ResourceNotFoundError:
      type: object
      properties:
          code:
            type: string            
            description: "Código utilizado para sinalizar que o identificador de pagamento fornecido não foi encontrado no Gateway"
            example: "ResourceNotFound"
          message:
            type: string
            description: "Mensagem descrevendo o erro encontrado"
            example: "Operação [8eab7d90-500b-4352-92f2-e46c32e27d7f] não encontrada!"
          request:
            type: string
            description: "Identificador da requisição (uso interno para registro e acompanhamento)"
            example: "541f8cab-96ee-49f8-84fe-ffdc2dc33632"
          timestamp: 
            type: string
            description: "Data e hora em que ocorreu o erro"
            example: "2021-12-09T15:56:38.916Z"

